@if (cours !== undefined) {
  @if (creationCleApiGemini || modificationCleApiGemini) {
    <form [formGroup]="formulaire"
          (ngSubmit)="enregistrerCleApiGemini()">
      <div>
        <p-floatlabel>
          <input pInputText [pAutoFocus]="true" id="cleApiGemini" formControlName="cleApiGemini" autocomplete="off"/>
          <label for="cleApiGemini">
            {{ 'COMPOSANTS.COURS.CONSEILS_GEMINI_TICKER.CLE_API_GEMINI' | translate }}
          </label>
        </p-floatlabel>
      </div>
      @if (modificationCleApiGemini) {
        <div>
          <p-button
            label="{{ 'COMPOSANTS.COMMUN.ABANDONNER' | translate }}"
            (onClick)="abandonnerModification()" type="reset" severity="warn"/>
        </div>
      }
      <div>
        <p-button
          label="{{ 'COMPOSANTS.COMMUN.ENREGISTRER' | translate }}"
          type="submit" severity="danger"/>
      </div>
    </form>
  }

  @if (!loading && !creationCleApiGemini && !modificationCleApiGemini && !conseilsGeminiTicker) {
    <div class="boutons">
      <span class="pi pi-pencil" (click)="modification()"></span>
      <span class="pi pi-play-circle" (click)="interrogerApiGemini()"></span>
    </div>
  }

  <app-loader [affiche]="loading" [configuration]="[
        {marginLeft: '0', marginTop: '0', height: '15rem', width: '100%'}
      ]"></app-loader>

  @if (erreurAPIGemini) {
    <div class="erreur">{{ erreurAPIGemini }}</div>
  }

  @if (conseilsGeminiTicker) {
    <div class="ligne">
      <div class="colonne">
        <div>
          <label>{{ 'COMPOSANTS.COURS.CONSEILS_GEMINI_TICKER.NOM' | translate }}</label>
          <span>{{ conseilsGeminiTicker.nom }}</span>
        </div>
        <div>
          <label>{{ 'COMPOSANTS.COURS.CONSEILS_GEMINI_TICKER.MARCHE' | translate }}</label>
          <span>{{ conseilsGeminiTicker.marche }}</span>
        </div>
        <div>
          <label>{{ 'COMPOSANTS.COURS.CONSEILS_GEMINI_TICKER.ACHETER' | translate }}</label>
          <span>{{ `COMPOSANTS.COURS.CONSEILS_GEMINI_TICKER.${conseilsGeminiTicker.acheter}` | translate }}</span>
        </div>
        <div>
          <label>{{ 'COMPOSANTS.COURS.CONSEILS_GEMINI_TICKER.VENDRE' | translate }}</label>
          <span>{{ `COMPOSANTS.COURS.CONSEILS_GEMINI_TICKER.${conseilsGeminiTicker.vendre}` | translate }}</span>
        </div>
      </div>
      <div class="colonne">
        <div>
          <label>{{ 'COMPOSANTS.COURS.CONSEILS_GEMINI_TICKER.PRIX_1_JOUR' | translate }}</label>
          <span>{{ conseilsGeminiTicker.prixEuros1jour | currency:'€'}}</span>
        </div>
        <div>
          <label>{{ 'COMPOSANTS.COURS.CONSEILS_GEMINI_TICKER.PRIX_1_SEMAINE' | translate }}</label>
          <span>{{ conseilsGeminiTicker.prixEuros1semaine | currency:'€' }}</span>
        </div>
        <div>
          <label>{{ 'COMPOSANTS.COURS.CONSEILS_GEMINI_TICKER.PRIX_1_MOIS' | translate }}</label>
          <span>{{ conseilsGeminiTicker.prixEuros1mois | currency:'€' }}</span>
        </div>
        <div>
          <label>{{ 'COMPOSANTS.COURS.CONSEILS_GEMINI_TICKER.PRIX_1_AN' | translate }}</label>
          <span>{{ conseilsGeminiTicker.prixEuros1an | currency:'€' }}</span>
        </div>
      </div>
    </div>

    <div class="analyses">{{conseilsGeminiTicker.analyses}}</div>
  }
}
